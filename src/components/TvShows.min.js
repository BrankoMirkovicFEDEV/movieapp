import o from"axios";import e,{Fragment as r,useContext as t,useEffect as a,useState as i}from"react";import{AiFillPlayCircle as m}from"react-icons/ai";import{AiOutlineClose as s}from"react-icons/ai";import n from"./NoImage.jpg";import{Container as p}from"./NavBar";import"../Styles/Videos.css";import f from"../Trailers/TrailerTvShows";function TvShows(){let{toggle:e,inputValue:r}=t(p),[m,s]=i([]),f=r,[l,c]=i(!0),[h,g]=i(""),d=`https://api.themoviedb.org/3/${f?"search":"discover"}/tv`,v=async()=>{let e=await o.get(d,{params:{api_key:"ff6727e4261b1e9a9fe2775707fc759f",query:f}}),r=e.data.results;s(r)};a(()=>{v()},[f]);let y=async o=>{g(o.name),c(!l)};return<r >

      <div className={e?"mainBgColor":"secondaryBgColor"}>

        <div className="movies-container">

          {m.map(o=><r key={o.id}>

                <div id={l?"container":"NoContainer"}>

                  <m color="#fff"fontSize={40}id={l?"playIcon":"hide"}onClick={()=>y(o)}/>

                  <img src={o.poster_path?`https://image.tmdb.org/t/p/w500${o.poster_path}`:n}alt=""onClick={()=>y(o)}/>

                  <h3 id={o.name.length>28?"smaller-Text":""}className={e?"mainColor":"secondaryColor"}>

                    {o.name}

                  </h3>

                </div>

              </r>)}

          {l?console.log():<f TvShowsTitle={h}toggle={e}/>}

          <s id={l?"Nothing":"Exit1"}className={e?"DarkTheme":"LightThemeClose"}fontSize={55}color="#fff"cursor={"pointer"}onClick={()=>c(!0)}/>

        </div>

      </div>

    </r>}export default TvShows;